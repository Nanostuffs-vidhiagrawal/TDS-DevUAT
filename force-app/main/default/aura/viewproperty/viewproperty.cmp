<aura:component implements="force:appHostable,forceCommunity:themeLayout,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction"
                access="global"
                controller="ManageProperties"
                >
    
    <aura:attribute name="phoneCodePicklist" type="String[]"/>
    <aura:attribute name="duplicateRecord" type="Contact"  />
    
    <aura:attribute name="strRecordId" type="String" />
    <aura:attribute name="LandlordList" type="List" />   
    <aura:attribute name="property" type="Object"/>
    <aura:attribute name="landlord" type="Object"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <lightning:overlayLibrary aura:id="overlayLib"/>
     <aura:attribute access="public" name="LandRegStatuses" type="Map" />
      <!-- Landlord pagination -->
         <aura:attribute name="fromParentComp" type="boolean" default="false"/>  
    <aura:attribute name="LandlordListView" type="List" />  
    <aura:attribute name="startPageLandlord" type="Integer" />
  <aura:attribute name="endPageLandlord" type="Integer" />  
      <aura:attribute name="currentPageLandlord" type="integer" default="1" />
     <aura:attribute name="pageSizeLandlord" type="Integer" default="4" description="number of records to be display on per page"/> 
     <aura:attribute name="totalPagesCountLandlord" type="integer" default="1" />
    <aura:attribute name="totalRecordsCountLandlord" type="Integer" /> 
 <aura:attribute name="PaginationLandlordList" type="list" />    
 <aura:attribute name="term" type="String" default=""/>    
     <aura:attribute name="JointLandlord" type="Boolean" default="false" />
  <aura:attribute name="showViewPage" type="boolean" default="true"/>   
     <lightning:navigation aura:id="navService" />
     <aura:attribute name="PrimarylandlordDetails" type="List" />
   <aura:attribute name="editPage" type="boolean" default="false"/> 
        <aura:attribute name="propStatus" type="string" />
    <aura:attribute name="replaceLandlord" type="boolean" default="false" />  
   <aura:attribute name="selectedValue" type="String" default=""/>  
        <aura:attribute name="selectedPrimarylandlord" type="List" />
    <aura:attribute name="selectedjointlandlord" type="List" />
        <aura:attribute name="selectedjointlandlordID" type="List" />
    <aura:attribute name="jointLandlordDetails" type="Object" />
    <aura:attribute name="landlordRemoveId" type="string" />
     <aura:attribute name="removePrimLandlord" type="boolean" default="false" />  
         <aura:attribute name="showLandlord" type="boolean" default="false" />  
        <aura:attribute name="isRegStatus" type="Boolean" default="false" />
    <!-- BootStrap Errors using Aura:if-->
    <aura:attribute name="succeessmessage" type="boolean" default="false" />
    <aura:attribute name="firstNameError" type="boolean" default="false" />
    <aura:attribute name="surNameError" type="boolean" default="false" />
    <aura:attribute name="emailError" type="boolean" default="false" />
    <aura:attribute name="mobileError" type="boolean" default="false" />
    <aura:attribute name="phonelengthError" type="boolean" default="false"/>
    <aura:attribute name="successmessage" type="boolean" default="false" />
    <aura:attribute name="currentUser" type="User" />
    <aura:attribute name="bNoRecordsFound" type="boolean" />
    <aura:attribute name="showConfirmDialog" type="boolean" default="false"/>
    
     <!-- HideAction on the basis of roles and permissions -->
    <aura:attribute name="showButtons" type="boolean" default="false"/>
     <aura:attribute name="manageProperties" type="boolean" default="false"/>
    
    <aura:attribute name="duplicateEmailError" type="boolean" default="false" />
    <aura:attribute name="duplicateNameError" type="boolean" default="false" />
    
    <lightning:navigation aura:id="navServiceMy" />
    
    <force:recordData
    aura:id="recordLoader"
    recordId="{!$SObjectType.CurrentUser.Id}"
    fields="Name,Profile.Name,Contact.Job_role__c,Contact.Additional_Permission__c"
    targetFields="{!v.currentUser}"
  />
    <aura:attribute name="PaginationList" type="list" />
  <aura:attribute
    name="selectedCount"
    type="integer"
    default="0"
    description="selected Records Count"
  />
  <aura:attribute name="startPage" type="Integer" />
  <aura:attribute name="endPage" type="Integer" />
  <aura:attribute name="totalRecordsCount" type="Integer" />
  <aura:attribute name="pageSize" type="Integer" default="4" />
  <aura:attribute name="currentPage" type="integer" default="1" />
  <aura:attribute name="totalPagesCount" type="integer" default="1" />
    
    <div class="tab-content custom-tab-content" id="sf-tabContent">        
        <div class="tab-pane fade show active" id="sf-Portfolio" role="tabpanel" aria-labelledby="sf-Portfolio-tab">
            <!-- left Tabs HTML Start -->
            <div class="secondary-tab-container">
                <nav class="left-custom-tab">
                    <div class="nav nav-tabs" id="left-nav-tab" role="tablist">
                        <a onclick="{!c.navigateMyProp}" class="nav-link active" id="left_nav-sf-presonal-tab" data-toggle="tab" href="#left_nav-sf-presonal" role="tab" aria-controls="left_nav-sf-presonal" aria-selected="true">
                            <img class="initial-state" src="{!$Resource.TDSTheme + '/assets/img/newspaper_icon.svg'}" alt=""/>
                            Manage my properties
                        </a>
                        <a onclick="{!c.navigateLandlord}" class="nav-link" id="left_nav-sf-organisation-tab" href="" role="tab" >
                            <img class="initial-state" src="{!$Resource.TDSTheme + '/assets/img/Organisation_icon.svg'}" alt=""/>
                            Manage my landlords
                        </a>
                    </div>
                </nav>
                   <div id="myModal" class="custom-model modal fade" data-backdrop="static" data-keyboard="false" 
                 tabindex="-1" role="dialog" aria-hidden="true">
          <div style="margin-top: 200px;
            margin-right: 100px;" class="modal-dialog modal-lg">
        
            <!-- Modal content-->
            <div style="width: 500px;
            border-color: #457cbf;" class="modal-content">
                   <div class="modal-body">
                            <p> By clicking ‘Confirm’, you understand that your property will be archived and will not be available to add to a deposit.</p>
                  <br></br> <div style="text-align:center;"> <a href="" id="{!v.propStatus}" class="see-all" onclick="{!c.deleteProperty }"> <img src="{!$Resource.TDSTheme + '/assets/img/delete_icon.svg'}" alt="Delete Icon"/>Confirm</a>
                        &nbsp; <a href="" class="see-all" data-dismiss="modal"> <img src="{!$Resource.TDSTheme + '/assets/img/edit-icon1.svg'}" alt="Edit Icon"/>Go back</a>
                </div>
                       </div>
              </div>
               </div>
                   </div>
                <div class="tab-content custom-tab-content" id="sf-tabContent">
                    <div class="tab-pane fade show active" id="left_nav-sf-presonal" role="tabpanel" aria-labelledby="left_nav-sf-presonal-tab">
                        <div class="organization-details property-details">
                <aura:if isTrue="{!v.succeessmessage}">
                    <div id="successAlert"
                         class="alert alert-success alert-dismissible fade show"
                         >
                        <strong>Success!</strong>Property updated successfully.
                        <button
                                type="button"
                                class="close"
                                onclick="{!c.hideBootstrapErrors}"
                                name="sucessmsg"
                                >&times;</button
                            >
                    </div>                 
                </aura:if>
                            <div class="row">
                        
                                <div class="col-sm-3">
                                    <h5>Property details</h5>
                                </div>
                                <div class="col-sm-9 text-right">
                                     <aura:if isTrue="{!v.manageProperties}">	
                                     <aura:if isTrue="{!!v.editPage}">	
                     
										<aura:if isTrue="{!or(v.property.NoOfDeposit__c == '0', v.property.NoOfDeposit__c == NULL)}">
                                  <aura:if isTrue="{!v.showButtons }">	
                                            <aura:if isTrue="{!v.property.Property_status__c == 'Inactive' }">	
                                               <a href="" onclick="{!c.handleArchived}" id="Active" class="see-all">  <img src="{!$Resource.TDSTheme + '/assets/img/delete_icon.svg'}" alt="Delete Icon"/>Reactivate property</a>
  
                                           <aura:set attribute="else">
                                             <a href="#" onclick="{!c.archiveStatus}" id="Inactive" data-toggle="modal" data-target="#myModal" class="see-all">  <img src="{!$Resource.TDSTheme + '/assets/img/delete_icon.svg'}" alt="Delete Icon"/>Archive property</a>
                                       
                                                </aura:set>
                                        </aura:if>
                                    </aura:if>
                                         </aura:if>
                                              <a href="" class="see-all" onclick="{!c.handleEditLandlord }"> <img src="{!$Resource.TDSTheme + '/assets/img/edit-icon1.svg'}" alt="Edit Icon"/>Edit property</a>

                                          <aura:set attribute="else">
                                                <a href="" class="see-all" onclick="{!c.handleEditProp }">Save</a>
                               				   <a href="" class="see-all" onclick="{!c.handleCancle }">Cancel</a>

                                          </aura:set>
                                    </aura:if>
                                    </aura:if> 
                                    
                                 <!--   <a href="" class="see-all" onclick="{!c.handleConfirmDialog }"> <img src="{!$Resource.TDSTheme + '/assets/img/delete_icon.svg'}" alt="Delete Icon"/> 
                                        <aura:if isTrue="{!v.currentUser.Profile.Name =='Agent'}">
                                        	Delete property
                                        </aura:if>
                                        <aura:if isTrue="{!v.currentUser.Profile.Name =='Landlord'}">
                                        	Archive property
                                        </aura:if>
                                    </a>
                                    <a href="" class="see-all"> <img src="{!$Resource.TDSTheme + '/assets/img/edit-icon1.svg'}" alt="Edit Icon"/> Edit property</a> -->
                                </div>
                            </div>
                            <div class="property-detail-table">
                                <!--<div class="property-detail-row">
                                    <div class="row">
                                        <div class="col-sm-4">House number/name</div>
                                        <div class="col-sm-8">6667-22</div>
                                    </div>
                                </div>-->
                                <div class="property-detail-row">
                                    <div class="row">
                                        <div class="col-sm-4">House number/name</div>
                                        <div class="col-sm-8">
                                         <aura:if isTrue="{!v.editPage}">
                                              <lightning:input aura:id="propHNo" variant = "label-hidden"  class="landRegNo" label="" maxlength="10" value="{!v.property.House_No__c}"/>
                                            <aura:set attribute="else">
                                                 {!v.property.House_No__c}
                                            </aura:set>
                                         </aura:if>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="property-detail-row">
                                    <div class="row">
                                        <div class="col-sm-4">Street</div>
                                        <div class="col-sm-8">
                                             <aura:if isTrue="{!v.editPage}">
                                              <lightning:input aura:id="propHStreet" variant = "label-hidden"  class="landRegNo" label="" maxlength="50" value="{!v.property.Street__c}"/>
                                            <aura:set attribute="else">
                                                 {!v.property.Street__c}
                                            </aura:set>
                                         </aura:if>
                                          </div>
                                    </div>
                                </div>
                                <div class="property-detail-row">
                                    <div class="row">
                                        <div class="col-sm-4">Town/City</div>
                                        <div class="col-sm-8">
                                              <aura:if isTrue="{!v.editPage}">
                                              <lightning:input aura:id="propHSCity" variant = "label-hidden"  class="landRegNo" label="" maxlength="50" value="{!v.property.City__c}"/>
                                            <aura:set attribute="else">
                                                 {!v.property.City__c}
                                            </aura:set>
                                         </aura:if>
                                       
                                    </div>
                                </div>
                                </div>
                                <div class="property-detail-row">
                                    <div class="row">
                                        <div class="col-sm-4">County</div>
                                        <div class="col-sm-8">
                                            <aura:if isTrue="{!v.editPage}">
                                              <lightning:input aura:id="propHSCounty" variant = "label-hidden"  class="landRegNo" label="" maxlength="50" value="{!v.property.County__c}"/>
                                            <aura:set attribute="else">
                                                 {!v.property.County__c}
                                            </aura:set>
                                         </aura:if>
                                    </div>
                                </div>
                                    </div>
                                <div class="property-detail-row">
                                    <div class="row">
                                        <div class="col-sm-4">Postcode</div>
                                        <div class="col-sm-8">
                                            <aura:if isTrue="{!v.editPage}">
                                              <lightning:input aura:id="propHSPCode" variant = "label-hidden"  class="landRegNo" label="" maxlength="50" value="{!v.property.Postal_Code__c}"/>
                                            <aura:set attribute="else">
                                                 {!v.property.Postal_Code__c}
                                            </aura:set>
                                         </aura:if>
                                        
                                    </div>
                                </div>
                                    </div>
                                <div class="property-detail-row">
                                    <div class="row">
                                        <div class="col-sm-4">Country</div>
                                        <div class="col-sm-8">
                                        <aura:if isTrue="{!v.editPage}">
                                              <lightning:input aura:id="propHSCountry" variant = "label-hidden"  class="landRegNo" label="" maxlength="50" value="{!v.property.Country__c}"/>
                                            <aura:set attribute="else">
                                                 {!v.property.Country__c}
                                            </aura:set>
                                         </aura:if>
                                    </div>
                                </div>
                                    </div>
                              <!--  <div class="property-detail-row">
                                    <div class="row">
                                        <div class="col-sm-4">UPRN</div>
                                        <div class="col-sm-8">{!v.property.Name}</div>
                                    </div>
                                </div>-->
                            </div>
                        </div>
                        
                        <div class="organization-details property-details">
                            <div class="row">
                                <aura:if isTrue="{!v.manageProperties}">	
                                <div class="col-sm-12 text-right">
                                    <a href="" onclick="{!c.replaceLandlord}" class="see-all"> <img src="{!$Resource.TDSTheme + '/assets/img/transfer.svg'}" alt="transfer Icon"/> 
                                    <!--    <aura:if isTrue="{!v.currentUser.Profile.Name =='Agent'}">-->
                                        	Replace primary landlord
                                      <!--   </aura:if>
                                        <aura:if isTrue="{!v.currentUser.Profile.Name =='Landlord'}">
                                        	Replace landlord
                                        </aura:if>  -->                      
                                    </a>
                                    <c:EI_addNonMemberLandlord aura:id="landlordComp" method="{!c.refreshLandlordList}" fromViewProperty="true" propertyRecId="{!v.property.Id}" />
                                    <!--<a href="#" data-toggle="modal" data-target="#addUser" class="see-all"> 
                                        <img src="{!$Resource.TDSTheme + '/assets/img/add-circle.svg'}" alt="Add Icon"/> Add a landlord</a>
                                    <! Popup form HTMl start >
                                    <div class="custom-model modal fade" id="addUser" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="createUser" aria-hidden="true">
                                        <div class="modal-dialog modal-lg">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h3 class="modal-title">Add a landlord</h3>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true"> 
                                                            <img src="{!$Resource.TDSTheme + '/assets/img/Cancel-icon.png'}" alt=""/>
                                                        </span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                </div>
                                            </div>
                                        </div>
                                    </div> -->
                                    <!--Popup form HTMl end-->
                                </div>
                                </aura:if>
                            </div>
   				<aura:if isTrue="{!v.replaceLandlord}">
                 <section class="deposit_steps">                                    
                <div class="deposit_steps_detail">
                 <form>
                 <div class="form-group row">
                                  <div class="col-xs-12 col-sm-8 col-lg-10">
                  <div class="col-xs-12 col-sm-8 col-lg-10">
                  <div class="slds-form-element">
                  <div class="slds-form-element__control">
                  <div class="slds-combobox_container">
                   <div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open" aria-expanded="true" aria-haspopup="listbox" role="combobox">
                <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
                
                 <lightning:input type="text" label="Add primary landlord" aura:id="searchField1" value="{!v.selectedValue}"  onkeyup="{!c.searchKeyChange1}" placeholder="Search" onclick="{!c.searchKeyChange1}" class="searchInputClass" autocomplete="off"/>
                 <span class=" slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right"></span>
                
                </div>
                <aura:if isTrue="{!v.PrimarylandlordDetails[0].Id!=null}">
                     <div id="listbox-id-2" class="slds-dropdown slds-dropdown_length-with-icon-7 slds-dropdown_fluid" role="listbox">
                        <ul class="slds-listbox slds-listbox_vertical" role="presentation">
                            <aura:iteration items="{!v.PrimarylandlordDetails}" var="p">
                               <li role="presentation" class="slds-listbox__item">
                                <div id="option1" class="slds-media slds-listbox__option slds-listbox__option_entity slds-listbox__option_has-meta" role="option">
                                    <span class="slds-media__figure slds-listbox__option-icon">
                                    <span class="slds-icon_container slds-icon-standard-account"></span>
                                    </span>
                                    <span class="slds-media__body">
                                    <span onclick="{!c.primaryLandlord}" id="{!p.Id}" class="slds-listbox__option-text slds-listbox__option-text_entity">{!p.FirstName+' '+p.LastName}</span>
                                    </span>
                                </div>
                               </li>
                            </aura:iteration>
                        </ul>
                    </div>
                    
                    
                </aura:if>
                     
                        
                </div>
                   
                </div>
                                     <br></br>
                      <div style="text-align:right;"> 
                           <a href="" style="min-width: 20%;" class="learn-more" onclick="{!c.handleCancle }">Cancel</a>
                         <a href="" style="min-width: 20%;" class="see-all" onclick="{!c.handleSave }">Save</a>
                       
					</div>
                </div>
                </div>
                </div>
                </div>
                </div>
           
                </form>
                </div>
                     
                </section>
                </aura:if>
     
          
      
              <!--Popup form HTMl start-->
   <div id="myModalRemoveLandlord" class="custom-model modal fade" data-backdrop="static" data-keyboard="false" 
         tabindex="-1" role="dialog" aria-hidden="true">
  <div style="margin-top: 200px;
    margin-right: 100px;" class="modal-dialog modal-lg">

    <div style="width: 500px;
    border-color: #457cbf;" class="modal-content">
           <div class="modal-body">
                    <p>Do you want "{!v.jointLandlordDetails.Contact__r.Name}" to be the primary landlord associated this property?</p>
          <br></br> <div style="text-align:center;"> <a href="" id="{!v.jointLandlordDetails.Contact__r.Id}" name="Prime" class="see-all" onclick="{!c.removeLandlord }">Yes</a>
                &nbsp; <a href="" class="see-all" data-dismiss="modal" onclick="{!c.ClickedNo}">No</a>
        </div>
               </div>
      </div>
       </div>
                   </div>       
                    
                            
                            <aura:if isTrue="{!v.showConfirmDialog}">
            <!--Modal Box Start-->
            <div role="dialog" class="slds-modal slds-fade-in-open ">
                <div class="slds-modal__container">
                    <!--Modal Box Header Start-->
                    <header class="slds-modal__header">
                        <h1 class="slds-text-heading--medium"></h1>
                    </header>
                    <!--Modal Box Header End-->
                      
                    <!--Modal Box Content Start-->
                    <div class="slds-modal__content slds-p-around--large" style="font-size: 1.5rem!important;color: #32669E!important;">
                        <center> Are you sure you want to delete this property ?</center>
                    </div>
                    <!--Modal Box Content End-->
                      
                    <!--Modal Box Button Start-->
                    <footer class="slds-modal__footer">                        
                        <center> <lightning:button variant="brand" name='Yes' label='Yes' onclick='{!c.deleteProperty}' class="see-all"/>
                            <lightning:button name='No' label='No' onclick='{!c.handleConfirmDialogNo}' class="see-all"/></center>
                    </footer>
                    <!--Modal Box Button End-->
                </div>
            </div>
            <div class="slds-backdrop slds-backdrop--open"></div>            
        </aura:if>
                            
                            <section>
                                <!-- Table HTML Start -->
                                <div class="table-container">
                                    <table class="slds-table slds-table--striped" 
                                           style="width:100%;table-layout: fixed;">
                                        <thead>
                                            <tr>
                                                <th class="headingtext">Name</th>
                                                <th class="headingtext">Email</th>
                                                <th class="headingtext">Phone</th>
                                                <th class="slds-cell-wrap headingtext">Landlord<br></br> registration no.</th>
                                                <th class="headingtext"></th>
                                            </tr>
                                        </thead>
                                        <tbody  style="font-size:1.5rem;">
                                            <aura:iteration items="{!v.PaginationList}" var="landlord">
                                                <tr>
                                                    <td class="slds-cell-wrap slds-text-align_left textcss">{!landlord.Contact__r.FirstName+' '+landlord.Contact__r.LastName}</td>
                                                    <td class="slds-cell-wrap slds-text-align_left textcss">{!landlord.Contact__r.Email}</td>
                                                    <td class="slds-cell-wrap slds-text-align_left textcss">{!landlord.Contact__r.Phone}</td>
                                                    <td class="slds-cell-wrap slds-text-align_left textcss">{!landlord.Landlord_Registration_Number__c}</td>
                                                    <td class="slds-text-align_left textcss"><a href="#" class="tbl-btn" data-toggle="modal" id="{!landlord.Id}" onclick="{!c.getLandlordData}"><img src="{!$Resource.TDSTheme + '/assets/img/feather-edit.svg'}" alt="View Icon" /> Edit</a>
                                                   &nbsp;&nbsp; 
                                                       <aura:if isTrue="{!landlord.Relation_to_Property__c == 'Primary Landlord'}">
                                                           <a href="" class="tbl-btn" id="{!landlord.Id}" data-toggle="modal" onclick="{!c.getJointLandlord}">Remove</a>
                                                        <aura:set attribute="else">
                                                           <a href="" class="tbl-btn" id="{!landlord.Id}" name="Joint" onclick="{!c.removeLandlord}">Remove</a>
                                                           </aura:set>
                                                        </aura:if> 
                                                    </td>
                                                </tr>
                                            </aura:iteration>
                                        </tbody>
                                        <div style="margin-left:420px!important;">
                        <nav aria-label="Page navigation">
							<ul class="pagination">
								<aura:if isTrue="{!or(v.startPage == 0,v.PaginationList.length==0)}">
									<li class="page-item disabled"><a class="page-link" href="" >Previous</a></li>
									<aura:set attribute="else">
										<li class="page-item"><a class="page-link" id="previousId" style="width :120px" href="" onclick="{!c.navigation}">Previous</a></li>
									</aura:set>
								</aura:if>
								 <li class="page-item"><a class="page-link" href="" style="width :120px">Page {!v.currentPage} out of {!v.totalPagesCount}</a></li>
								<aura:if isTrue="{!or((v.endPage + 1) >= v.totalRecordsCount,v.PaginationList.length==0 )}">
									<li class="page-item disabled"><a class="page-link" href="" >Next</a></li>							
									<aura:set attribute="else">
										<li class="page-item"><a class="page-link" id="nextId" href="" onclick="{!c.navigation}">Next</a></li>
									</aura:set>
								</aura:if>
							</ul>
						</nav>
                    </div>
                                    </table>
                                </div>
                                <!--Popup form HTMl start-->
                                <div class="custom-model modal fade" id="editLandlord" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="createUser" aria-hidden="true">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">
                                            <div  class="modal-header">
                                                <h3 id="mainLandlord" class="modal-title">Edit landlord details</h3>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="{!c.cancelRefresh}">
                                                    <span aria-hidden="true"> 
                                                        <img src="{!$Resource.TDSTheme + '/assets/img/Cancel-icon.png'}" alt=""/>
                                                    </span>
                                                </button>
                                            </div>
                                            
                                            <aura:if isTrue="{!v.duplicateNameError}">
                                                <div class="form-group row">
                                                    <div class="col-sm-10">
                                                        <div class="alert alert-warning alert-dismissible fade show" >
                                                            <img
                                                                 src="{!$Resource.TDSTheme + '/assets/img/warning-icon.png'}"
                                                                 alt="warning Icon"
                                                                 />
                                                            <div>
                                                                <strong>Warning!</strong> A Non Member Landlord is already registered for this customer.
                                                                <a href="" id="{!v.duplicateRecord.Id}" class="tbl-btn" onclick="{!c.handleLinkToViewLandlord}">
                                                                    <img id="{!v.duplicateRecord.Id}" src="{!$Resource.TDSTheme + '/assets/img/View_icon.svg'}" 
                                                                         alt="View Icon"/> {!v.duplicateRecord.Name}
                                                                </a> 
                                                            </div>
                                                            <button
                                                                    type="button"
                                                                    class="close"
                                                                    data-dismiss="alert"
                                                                    >×</button
                                                                >
                                                        </div>
                                                    </div>
                                                </div>
                                            </aura:if>
                                            
                                            <aura:if isTrue="{!v.successmessage}">
                                                <div
                                                     id="successAlert"
                                                     class="alert alert-success alert-dismissible fade show"
                                                     >
                                                    <strong>Success!</strong> Landlord record updated successfully.
                                                    <button
                                                            type="button"
                                                            class="close"
                                                            onclick="{!c.hideBootstrapErrors}"
                                                            name="successmsg"
                                                            >&times;</button
                                                        >
                                                </div>                 
              								</aura:if>
                                             <aura:if isTrue="{!v.firstNameError}">
                                                 <div
                                                      id="firstNameErrorAlert"
                                                      class="alert alert-danger alert-dismissible fade show"
                                                      >
                                                     <strong>Error!</strong> First name is mandatory.
                                                     <button
                                                             type="button"
                                                             class="close"
                                                             onclick="{!c.hideBootstrapErrors}"
                                                             name="firstName"
                                                             >&times;</button
                                                         >
                                                 </div>                 
                                            </aura:if>                
                                            
                                            <aura:if isTrue="{!v.surNameError}">  
                                                <div
                                                     id="SurNameErrorAlert"
                                                     class="alert alert-danger alert-dismissible fade show"
                                                     >
                                                    <strong>Error!</strong> Surname is mandatory.
                                                    <button
                                                            type="button"
                                                            class="close"
                                                            onclick="{!c.hideBootstrapErrors}"
                                                            name="surName"
                                                            >&times;</button
                                                        >
                                                </div>
                                            </aura:if> 
                                            
                                            <aura:if isTrue="{!v.emailError}">  
                                                <div
                                                     id="EmailErrorAlert"
                                                     class="alert alert-danger alert-dismissible fade show"
                                                     >
                                                    <strong>Error!</strong> Email is mandatory.
                                                    <button type="button" class="close"
                                                            onclick="{!c.hideBootstrapErrors}"
                                                            name="emailOfUser"
                                                            >&times;</button
                                                        >
                                                </div>
                                            </aura:if> 	
                                            
                                            <aura:if isTrue="{!v.phonelengthError}">
                                            <div 
                                                 id="phonelengthErrorAlert" 
                                                 class="alert alert-danger alert-dismissible fade show"
                                                 >
                                                <strong>Error!</strong> Enter a valid phone number that starts with '07' and it also must be of 11 digits.
                                                <button type="button" class="close" 
                                                        onclick="{!c.hideBootstrapErrors}" 
                                                        name="phonelength" 
                                                        >&times;</button >
                                                </div> 
                                            </aura:if>
                                            
                                            <aura:if isTrue="{!v.mobileError}">        
                                                <div
                                                     id="MobileNumberErrorAlert"
                                                     class="alert alert-danger alert-dismissible fade show"
                                                     >
                                                    <strong>Error!</strong> Phone is mandatory.
                                                    <button type="button" class="close"
                                                            onclick="{!c.hideBootstrapErrors}"
                                                            name="mobileNumber"
                                                            >&times;</button
                                                        >
                                                </div>
                                            </aura:if>
                                            
                                            <aura:if isTrue="{!v.duplicateEmailError}">  
                                                <div id="duplicateEmailAlert" class="alert alert-danger alert-dismissible fade show" >
                                                    <strong>Error!</strong> Email is already in use.
                                                    <button type="button" class="close"
                                                            onclick="{!c.hideBootstrapErrors}"
                                                            name="duplicateEmail"
                                                            >&times;
                                                    </button>
                                                </div>
                                            </aura:if>
                                            
                                            <div class="modal-body">
                                                <form class="sf-custom-form">
                                                    <div class="form-row">
                                                        <div class="form-group col-md-6">
                                                            <label for="sf-popup-First">Landlord first name</label>
                                                            <input type="text" class="form-control" value="{!v.landlord.Contact__r.FirstName}" id="sf-popup-First" placeholder="Enter first name"/>
                                                        </div>
                                                        <div class="form-group col-md-6">
                                                            <label for="sf-popup-Surname">Landlord surname</label>
                                                            <input type="text" class="form-control" value="{!v.landlord.Contact__r.LastName}" id="sf-popup-Surname" placeholder="Enter surname"/>
                                                        </div>
                                                    </div>
                                                    <div class="form-row">
                                                        <div class="form-group col-md-12">
                                                            <label for="sf-popup-Email">Landlord email</label>
                                                            <input type="email" class="form-control" value="{!v.landlord.Contact__r.Email}" id="sf-popup-Email" placeholder="Enter email"/>
                                                        </div>
                                                    </div>
                                                    <div class="form-row">
                                                        <label for="sf-popup-Mobile">Landlord phone</label>
                                                        <div class="form-group col-md-4">
                                                            <select id="phoneCodeId" class="form-control" value="{!v.landlord.Contact__r.Phone_Code__c}" >
                                                                <aura:iteration items="{!v.phoneCodePicklist}" var="itemVar" indexVar="key">
                                                                        <option text="{!itemVar}" value="{!itemVar}" selected="{!itemVar == v.landlord.Contact__r.Phone_Code__c}"/>
                                                                </aura:iteration>
                                                            </select>
                                                        </div>
                                                        <div class="form-group col-md-8">
                                                            <input type="text" class="form-control" value="{!v.landlord.Contact__r.Phone}" id="sf-popup-Mobile" placeholder="Enter phone number"/>
                                                        </div>
                                                    </div>
                                                 
                                                     <div class="form-row">
                                                        <div class="form-group col-md-12">
                                                          <label for="sf-popup-Registration">Landlord registration status</label>
                                                          <!--  <input type="text" class="form-control" value="{!v.landlord.Landlord_Registrataion_Status__c}" id="sf-popup-Registration" placeholder="Enter registration no."/>-->
                                                        <select class="form-control" id="regStId" onchange="{!c.regStatusChange}" >
                                                            <option >-- Please Select --</option>
                                                            <aura:iteration items="{!v.LandRegStatuses}" var="pb" indexVar="key">
                                                                <option text="{!pb.value}" value="{!pb.key}"  selected="{!pb.key == v.landlord.Landlord_Registrataion_Status__c}" />
                                                            </aura:iteration>
                                                        </select>
                                                        </div>
                                                    </div>
                                                        <aura:if isTrue="{!v.isRegStatus}">
													 <div class="form-row">
                                                        <div class="form-group col-md-12">
                                                            <label for="sf-popup-Registrationlab">Landlord registration no.</label>
                                                            <input type="text" class="form-control" value="{!v.landlord.Landlord_Registration_Number__c}" id="sf-popup-Registration" placeholder="Enter registration no."/>
                                                        </div>
                                                    </div>
                                                    </aura:if>
                                                    <div class="text-right">
                                                       <!-- <a href="#" class="learn-more">Cancel</a>-->
                                                         <button type="button" class="learn-more" style="text-transform: none;" data-dismiss="modal" onclick="{!c.cancelRefresh}">Cancel</button>
                                                        <lightning:button class="see-all" label="Save" title="Save"  onclick="{!c.updateLandlordData }"/>
                                                        <!--<button class="see-all" onclick="{!c.updateLandlordData}">Save</button>-->
                                                        
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--Popup form HTMl end-->
                                <!-- Table HTML End -->
                            </section>
                        </div>
                    </div>

              <!-- Manage My Landlords-->
       <div class="tab-pane fade" id="left_nav-sf-organisation" role="tabpanel" aria-labelledby="left_nav-sf-organisation-tab">
          
         <!--  <c:EI_viewLandlord showViewPage="{!v.showViewPage}" fromParentComp="{!v.fromParentComp}" />
          -->
          </div>
                </div>
                
            </div>
            <!-- left Tabs HTML End -->
        </div>
        
    </div>
</aura:component>