<aura:component implements="lightning:isUrlAddressable,forceCommunity:themeLayout,force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction"
                access="global" controller ="EI_AddDeposit">
    
    <ltng:require styles="{!$Resource.TDSTheme+'/assets/css/custom.css'}"
                  scripts="{!join(',',
                           $Resource.TDSTheme+'/assets/js/plugin.min.js',
                           $Resource.TDSTheme+'/assets/js/custom.js')}"
                  />
    <aura:attribute name="phoneCodePicklist" type="String[]"/>
    <aura:attribute name="arrObj" type="object[]" />
    <aura:attribute name="leadTenantObj" type="object" />
   <aura:attribute name="editMode" type="string"  default =""/> 
  
     <aura:attribute name="changeInEmail" type="Boolean" default="false" />
     <aura:attribute name="changeInPhone" type="Boolean" default="false" />
      <aura:attribute name="isClicked" type="Boolean" default="false" />
    <aura:attribute name="IsOrg" type="Boolean"  />
    <aura:attribute name="IsLeadTenant" type="Boolean" default="true" />
    <aura:attribute name="LeadSummary" type="Boolean" />
    <aura:attribute name="emailList" type="List" />
    <aura:attribute name="cardTitle" type="String" default="Lead Tenant details" />
    <aura:attribute name="FirstName" type="string" />
    <aura:attribute name="SurName" type="string" />
    <aura:attribute name="email" type="string"  default =""/>
    <aura:attribute name="noOfTenants" type="Integer" />
    <aura:attribute name="phoneCode" access="global" type="String" default ="+44" />
    <aura:attribute name="phone" type="string" default =""/>
    <aura:attribute name="companyName" type="string"  default =""/>
    <aura:attribute name="companyEmail" type="String"  default =""/>
    <aura:attribute name="companyPhone" type="String" default ="" />
    <aura:attribute name="title" access="global"  type="string" default="" />
    <!-- <aura:attribute name="countryCode" type="string" default="+44" /> -->
    <aura:attribute name="item" type="integer" />
    <aura:attribute name="itemListlength" type="integer" />
    
    <aura:attribute name="titles" type="List" default="[
                                                       {'label': 'Select Title', 'value': 'Select Title'},
                                                       {'label': 'Mrs', 'value': 'Mrs'},
                                                       {'label': 'Ms', 'value': 'Ms'},
                                                       {'label': 'Mr', 'value': 'Mr'},
                                                       {'label': 'Miss', 'value': 'Miss'},
                                                       {'label': 'Dame', 'value': 'Dame'},
                                                       {'label': 'Doctor', 'value': 'Doctor'},
                                                       {'label': 'Lady', 'value': 'Lady'},
                                                       {'label': 'Lord', 'value': 'Lord'},
                                                       {'label': 'Professor', 'value': 'Professor'},
                                                       {'label': 'The Rt Hon', 'value': 'The Rt Hon'},
                                                       {'label': 'Sir', 'value': 'Sir'},
                                                       {'label': 'Other', 'value': 'Other'},
                                                       {'label': 'Reverend', 'value': 'Reverend'},
                                                       {'label': 'The Hon', 'value': 'The Hon'},
                                                       ]" />
    <aura:attribute name="IsDuplicateEmail" type="Boolean" default="false" />
    
    <!-- BootStrap Errors using Aura:if-->
    <aura:attribute name="succeessmessage" type="boolean" default="false" />
    <aura:attribute name="companyNameError" type="boolean" default="false" />
    <!--<aura:attribute name="companyEmailError" type="boolean" default="false" />
      <aura:attribute name="companyPhoneError" type="boolean" default="false" /> -->
    
     <aura:attribute name="yesNoError" type="boolean" default="false" />
    <aura:attribute name="titleError" type="boolean" default="false" />
    <aura:attribute name="firstNameError" type="boolean" default="false" />
    <aura:attribute name="surNameError" type="boolean" default="false" />
    <aura:attribute name="emailMobileError" type="boolean" default="false" />
    <aura:attribute name="duplicateEmailError" type="boolean" default="false" />
    <aura:attribute name="invalidEmailFormatError" type="boolean" default="false" />
    <aura:attribute name="PhonelengthError" type="Boolean" default="false" />
    <aura:attribute name="invalidPhoneFormatError" type="boolean" default="false" />
    
    <aura:attribute name="duplicateEmailInDepositError" type="boolean" default="false" />
    <aura:attribute name="duplicatePhoneInDepositError" type="boolean" default="false" />
    <aura:attribute name="formNumber" type="Integer" default="0" />
    
    <!--ErrorMessage -->
    <aura:attribute name="errorList" type="Error_Message__mdt[]" default=""/> 
    <aura:attribute name="TitleErrorNew" type="string"/>
	 <aura:attribute name="FirstNameErrorNew" type="string"/>
	<aura:attribute name="SurnameErrorNew" type="string"/>
	 <aura:attribute name="PhoneErrorNew" type="string"/> 
 	<aura:attribute name="TenantExistErrorNew" type="string"/>	
	 <aura:attribute name="TenantPhoneErrorNew" type="string"/>
    
    
    
    <aura:handler name='init' value='{!this}' action='{!c.doInit}' />
          <aura:attribute name="fillForm" type="Boolean" default="false"/>
    <!-- Register Event -->
    
    <aura:registerEvent name="EI_tenantDetailEvent" type="c:EI_tenantDetailEvent" />
   <!-- Total Tenant {!v.noOfTenants}<br/>
    Form Number {!v.item} <br/> 
    Form Remaining {!v.itemListlength}  -->  
    <aura:method name="messageMethod" action="{!c.doSubmit}" access="public"> </aura:method>
    <!-- <div aura:id="changeIt">
        <lightning:card title="{!v.cardTitle}">
            <aura:if isTrue="{!v.IsLeadTenant}">

                <p class="slds-p-horizontal_small">
                <p><b> Is the tenant associated with this deposit an organisation?</b></p> <br />
                <lightning:button aura:id="personBtn" variant="brand" label="No" onclick="{! c.doPerson }" />
                <lightning:button aura:id="orgBtn" variant="brand-outline" label="Yes" onclick="{! c.doEnableOrg }" />
                </p>

            </aura:if>

            <aura:if isTrue="{!v.IsOrg}">
                <p class="slds-p-around_small">
                    <lightning:input type="text" label="Company Name" value="{!v.companyName}" required="true"
                        aura:id="field" />
                    <lightning:input aura:id="field" label="Email" value="{!v.email}" required="true" type="email"
                        pattern="^((([a-z]|\d|[!#\$%'&amp;''\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&amp;'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$"
                        onblur="{! c.handleEmailBlur}" />
                    <lightning:input aura:id="field" type="tel" name="Phone" label="Phone" value="{!v.phone}"
                        required="true" onblur="{! c.handlePhoneBlur }" />
                    <p class="slds-p-top_small"> 
                    </p>
                </p>
                <aura:set attribute="else">
                    <p class="slds-p-around_small">
                        <lightning:combobox aura:id="field" value="{!v.title}" name="title" label="Title"
                            placeholder="Select Title" options="{! v.titles }" onchange="{! c.handleChange }"
                            required="true" />

                        <lightning:input aura:id="field" label="First Name" value="{!v.FirstName}" required="true"
                            maxlength="40" messageWhenTooLong="Title cannot exceed 40 characters" minlength="1"
                            messageWhenTooShort="Title should have atleast 1 character" />
                        <lightning:input aura:id="field" label="Surname" value="{!v.SurName}" required="true"
                            maxlength="40" messageWhenTooLong="Title cannot exceed 40 characters" minlength="1"
                            messageWhenTooShort="Title should have atleast 1 character" />

                        <lightning:input aura:id="emailfield" label="Email" value="{!v.email}" 
                            type="email"
                            pattern="^((([a-z]|\d|[!#\$%'&amp;''\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&amp;'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$"
                            onblur="{! c.handleEmailBlur}" />

                        <lightning:input aura:id="phonefield" type="tel" name="Phone" label="Phone" value="{!v.phone}"
                              /> 
                    </p>
                </aura:set>
            </aura:if>
            <p class="slds-p-top_small">
                <lightning:button aura:id="doSubmit" variant="brand" label="Save" onclick="{! c.doSubmit }"
                    disabled="false" />
            </p>
        </lightning:card>
    </div> -->
    
    <div  class="tab-content custom-tab-content" aura:id="changeIt" id="sf-tabContent">
        <div class="tab-pane fade show active" id="sf-deposit" role="tabpanel" aria-labelledby="sf-deposit-tab">
            <div class="deposit-agent">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <!-- Deposit Steps HTML Start --> 
                            <section class="deposit_steps">
                                <div  class="deposit_steps_detail">
                                    <form>
                        
                                        
                                        <!-- Bootstrap Error messages Start -->
                                         <aura:if isTrue="{!v.yesNoError}">
                                            <div id="yesNoMsg"
                                                 class="alert alert-danger alert-dismissible fade show"
                                                 >
                                             <!--   <strong>Error!</strong>Please select Yes or No option.-->
                                               {!v.TenantExistErrorNew} 
                                                <button
                                                        type="button"
                                                        class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="yesNoMsg"
                                                        >&times;</button
                                                    >
                                            </div>                 
                                        </aura:if>
                                        <aura:if isTrue="{!v.succeessmessage}">
                                            <div id="successAlert" class="alert alert-success alert-dismissible fade show" >
                                                <strong>Success!</strong> Tenant has been created successfully.
                                                <button
                                                        type="button"
                                                        class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="successmsg"
                                                        >&times;
                                                </button>
                                            </div>                 
                                        </aura:if>
                                       <aura:if isTrue="{!v.fillForm}">
                                          <div id="fillFormError" class="alert alert-danger alert-dismissible fade show" >
                                              <!--<strong>Error!</strong> Please fill all the forms.-->
                                              Please save tenant details before continuing.
                                              <button
                                                      type="button"
                                                      class="close"
                                                      onclick="{!c.hideBootstrapErrors}"
                                                      name="fillFormBtn">&times;</button>
                                          </div>
                                      </aura:if>
                                        <aura:if isTrue="{!v.companyNameError}">
                                            <div id="companyNameErrorAlert" class="alert alert-danger alert-dismissible fade show" >
                                                <!--<strong>Error!</strong> Company name is mandatory.-->                                              
                                                Company name is mandatory.
                                                <button type="button"
                                                        class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="companyName"
                                                        >&times;
                                                </button>
                                            </div>                 
                                        </aura:if>
                                        
                                        <!-- <aura:if isTrue="{!v.companyEmailError}">
                                              <div id="companyEmailErrorAlert" class="alert alert-danger alert-dismissible fade show" >
                                                  <strong>Error!</strong> Company email is mandatory.
                                                  <button type="button"
                                                          class="close"
                                                          onclick="{!c.hideBootstrapErrors}"
                                                          name="companyEmail"
                                                          >&times;
                                                  </button>
                                              </div>                 
                                          </aura:if>
                                        
                                        <aura:if isTrue="{!v.companyPhoneError}">
                                              <div id="companyPhoneErrorAlert" class="alert alert-danger alert-dismissible fade show" >
                                                  <strong>Error!</strong> Company phone is mandatory.
                                                  <button
                                                          type="button"
                                                          class="close"
                                                          onclick="{!c.hideBootstrapErrors}"
                                                          name="companyPhone"
                                                          >&times;
                                                  </button>
                                              </div>                 
                                          </aura:if> -->
                                        
                                        <aura:if isTrue="{!v.titleError}">
                                            <div id="titleErrorErrorAlert" class="alert alert-danger alert-dismissible fade show" >
                                               <!-- <strong>Error!</strong> Please select the valid title.-->
                                                 {!v.TitleErrorNew}
                                                <button type="button"
                                                        class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="title"
                                                        >&times;
                                                </button>
                                            </div>                 
                                        </aura:if>
                                        
                                        <aura:if isTrue="{!v.firstNameError}">
                                            <div id="firstNameErrorAlert" class="alert alert-danger alert-dismissible fade show" >
                                               <!-- <strong>Error!</strong> First name is mandatory.-->
                                                 {!v.FirstNameErrorNew}
                                                <button type="button"
                                                        class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="firstName"
                                                        >&times;
                                                </button>
                                            </div>                 
                                        </aura:if>                
                                        
                                        <aura:if isTrue="{!v.surNameError}">  
                                            <div id="SurNameErrorAlert" class="alert alert-danger alert-dismissible fade show" >
                                                <!--<strong>Error!</strong> Surname is mandatory.-->
                                                {!v.SurnameErrorNew}
                                                <button type="button"
                                                        class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="surName"
                                                        >&times;
                                                </button>
                                            </div>
                                        </aura:if> 
                                        
                                        <aura:if isTrue="{!v.emailMobileError}">  
                                            <div id="EmailMobileErrorAlert" class="alert alert-danger alert-dismissible fade show" >
                                                <!--<strong>Error!</strong> Please provide either mobile number or email address.-->
                                                 {!v.PhoneErrorNew}
                                                <button type="button" class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="emailMobile"
                                                        >&times;
                                                </button>
                                            </div>
                                        </aura:if>
                                        
                                        <aura:if isTrue="{!v.invalidEmailFormatError}">
                                            <div id="invalidEmailFormatErrorAlert" class="alert alert-danger alert-dismissible fade show" >
                                                <strong>Error!</strong> Invalid email format.
                                                <button type="button"
                                                        class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="invalidEmailFormat"
                                                        >&times;
                                                </button>
                                            </div>                 
                                        </aura:if>
                                        
                                        <aura:if isTrue="{!v.invalidPhoneFormatError}">
                                            <div id="invalidPhoneFormatErrorAlert" class="alert alert-danger alert-dismissible fade show" >
                                                <strong>Error!</strong> Invalid phone format.
                                                <button type="button"
                                                        class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="invalidPhoneFormat"
                                                        >&times;
                                                </button>
                                            </div>                 
                                        </aura:if>
                                        
                                        <aura:if isTrue="{!v.PhonelengthError}">
                                            <div
                                                 id="PhonelengthErrorAlert"
                                                 class="alert alert-danger alert-dismissible fade show"
                                                 >
                                              <!-- <strong>Error!</strong> Enter a valid phone number that starts with '07' and it also must be of 11 digits.-->
													{!v.TenantPhoneErrorNew}
                                                <button
                                                        type="button"
                                                        class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="Phonelength"
                                                        >&times;</button
                                                    >
                                            </div>
                                        </aura:if>
                                        
                                        <aura:if isTrue="{!v.duplicateEmailError}">  
                                            <div id="duplicateEmailError" class="alert alert-danger alert-dismissible fade show" >
                                                <strong>Error!</strong> Email address already in use.
                                                <button type="button" class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="duplicateEmailError"
                                                        >&times;
                                                </button>
                                            </div>
                                        </aura:if>
                                        
                                        <aura:if isTrue="{!v.duplicateEmailInDepositError}">  
                                            <div id="duplicateEmailInDepositError" class="alert alert-danger alert-dismissible fade show" >
                                                <strong>Error!</strong> This email has been already used for other tenant in this deposit.
                                                <button type="button" class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="duplicateEmailInDepositError"
                                                        >&times;
                                                </button>
                                            </div>
                                        </aura:if>
                                        
                                        
                                        <aura:if isTrue="{!v.duplicatePhoneInDepositError}">  
                                            <div id="duplicatePhoneInDepositError" class="alert alert-danger alert-dismissible fade show" >
                                                <!--<strong>Error!</strong> This phone has been already used for other tenant in this deposit.-->
                                                This phone number is already exist.
                                                <!--{!v.TenantPhoneErrorNew}-->
                                                <button type="button" class="close"
                                                        onclick="{!c.hideBootstrapErrors}"
                                                        name="duplicatePhoneInDepositError"
                                                        >&times;
                                                </button>
                                            </div>
                                        </aura:if>  
                                        <!-- Bootstrap Error messages End -->
                                                        <div class="form-group row">
                                            <label class="col-sm-4 col-form-label">
                                                Is the tenant associated with this deposit a company?
                                            </label>
                                            <div class="col-sm-8">
                                            <!--    <lightning:button aura:id="{!'personBtn'+v.item}"  label="No"
                                                                  onclick="{! c.doPerson }" class="learn-more" />
                                                <lightning:button aura:id="{!'orgBtn'+v.item}"  label="Yes"
                                                                  onclick="{! c.doEnableOrg }" class="learn-more" />-->
                                                <a id="{!'orgBtn'+v.item}"  onclick="{! c.doEnableOrg }"  class="learn-more">Yes</a> 
                                                <a id="{!'personBtn'+v.item}" onclick="{! c.doPerson }" class="learn-more">No</a>
                                            </div>
                                        </div>
                                        
                                        <aura:if isTrue="{!v.IsOrg}">   
                                            <div class="form-group row">
                                                <label for="tenant_first_Name" class="col-sm-4 offset-sm-4 col-form-label">Company name</label>
                                                <div class="col-sm-8 col-lg-7 offset-sm-4">
                                                    <lightning:input aura:id="compNameId" type="text" value="{!v.companyName}" 
                                                                     placeholder="Enter company name" name="compNameLead" />
                                                </div>
                                            </div>
                                            <!--<div class="form-group row">
                                                <label for="tenant_first_Name" class="col-sm-4 offset-sm-4 col-form-label">Company Email</label>
                                                <div class="col-sm-8 col-lg-7 offset-sm-4">
                                                    <lightning:input aura:id="compEmailId" value="{!v.companyEmail}" type="email"
                                                                     pattern="^((([a-z]|\d|[!#\$%'&amp;''\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&amp;'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$"
                                                                     placeholder="Company Email" onblur="{! c.handleEmailBlur}" />
                                                </div>
                                            </div>
                                            <div class="form-group row">
                                             <label for="tenant_first_Name" class="col-sm-4 offset-sm-4 col-form-label">Company Phone</label>
                                                <div class="col-sm-8 col-lg-7 offset-sm-4">
                                                 <lightning:input aura:id="compPhoneId" type="tel" name="Phone" value="{!v.companyPhone}" 
                                                                     placeholder="Company Phone" onblur="{! c.handlePhoneBlur}" />
                                                </div>
                                            </div> -->
                                            <aura:set attribute="else">
                                                <div class="form-group row">
                                                    <label for="Title" class="col-sm-4 offset-sm-4 col-form-label">Title</label>
                                                    <div class="col-sm-4 col-lg-3 offset-sm-4">
                                                        <!-- <select class="form-control" id="Title">
                                                            <option value="">Select Option</option>
                                                            <option>01</option> <option>02</option>
                                                            <option>03</option> <option>04</option>
                                                        </select> 
                                                        <lightning:combobox aura:id="titleId" value="{!v.title}" name="title" 
                                                                            options="{! v.titles }" 
                                                                            onchange="{! c.handleChange }" /> -->
                                                        <select class="form-control"
                                                                id="{!'titleId'+v.item}"
                                                                name="userTitle" 
                                                                label="Title" 
                                                                 
                                                              onchange="{!c.onChangeTitle}"
                                                           
                                                                >
                                                            <option value="">-- Please Select --</option>
                                                            <option value="Mrs.">Mrs.</option>
                                                            <option value="Mr.">Mr.</option>
                                                    		<option value="Ms.">Ms.</option>
                                                            <option value="Miss">Miss</option>
                                                            <option value="Dr.">Dr.</option>
                                                            <option value="Prof.">Prof.</option>
                                                            <option  value="Lady">Lady</option>
                                                            <option value="Lord">Lord</option>
                                                            <option value="The Rt Hon">The Rt Hon</option>
                                                            <option value="Sir">Sir</option>
                                                            <option value="Other">Other</option>
                                                            <option value="Reverend">Reverend</option>
                                                            <option value="The Hon">The Hon</option>
                                                            
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label for="tenant_first_Name" class="col-sm-4 offset-sm-4 col-form-label">First name</label>
                                                    <div class="col-sm-8 col-lg-7 offset-sm-4">
                                                        <!--    <input type="text" name="" class="form-control" id="tenant_first_Name" 
                                                               placeholder="John, Jon" /> -->
                                                        <lightning:input aura:id="firstNameId" value="{!v.FirstName}" maxlength="40" 
                                                                         messageWhenTooLong="Title cannot exceed 40 characters" 
                                                                         minlength="1" messageWhenTooShort="Title should have atleast 1 character" 
                                                                         placeholder="Enter first name" />
                                                    </div>
                                                </div>
                                                <div class="form-group row">
                                                    <label for="tenant_surname" class="col-sm-4 offset-sm-4 col-form-label">Surname</label>
                                                    <div class="col-sm-8 col-lg-7 offset-sm-4">
                                                        <!--    <input type="text" name="" class="form-control" id="tenant_surname" 
                                                               placeholder="Smith, Jon" /> -->
                                                        <lightning:input aura:id="surNameId" value="{!v.SurName}" maxlength="40" 
                                                                         messageWhenTooLong="Title cannot exceed 40 characters" 
                                                                         minlength="1" messageWhenTooShort="Title should have atleast 1 character" 
                                                                         placeholder="Enter surname" />
                                                    </div>
                                                </div>
                                            </aura:set>
                                        </aura:if>
                                        
                                        <div class="form-group row">
                                            <label class="col-xs-12 col-sm-4 col-form-label">Contact information 
                                                <!--     <a href="#" class="questionsmark"> 
                                                    <img src="{!$Resource.TDSTheme + '/assets/img/question-circle.png'}" 
                                                         alt="Question Mark" /> Question?
                                                </a> -->
                                            </label> 
                                            <label for="tenant_Email" class="col-sm-4 col-form-label">Email</label>
                                            <div class="col-sm-8 col-lg-7 offset-sm-4">
                                                <!--    <input type="email" class="form-control" id="tenant_Email"
                                                               placeholder="tenant@email.com" /> -->
                                                <lightning:input aura:id="emailID" value="{!v.email}" 
                                                                 type="email" pattern="^((([a-zA-Z]|\d|[!#\$%'&amp;''\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&amp;'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$"
                                                                 placeholder="Enter email " onblur="{! c.handleEmailBlur}" />
                                            </div>
                                        </div>
                                        
                                        <div class="form-group row">
                                            <label for="Phone" class="col-sm-4 offset-sm-4 col-form-label">Mobile</label>
                                            <div class="col-sm-2 offset-sm-4 slds-p-top_xx-large">
                                                <select id="{!'selectPhoneCode'+v.item}" class="form-control"
                                                        onchange="{!c.handlePhoneCode}" >
                                                    <aura:iteration items="{!v.phoneCodePicklist}" var="itemVar">
                                                        <option text="{!itemVar}" value="{!itemVar}" />
                                                    </aura:iteration>
                                                </select>
                                            </div>
                                            <div class="col-sm-5 slds-p-top_small">
                                                <lightning:input aura:id="mobileId" type="tel" onblur="{! c.handlePhoneBlur}" name="Phone"
                                                                 placeholder="Enter mobile number" value="{!v.phone}" pattern="[0-9]*"/> 
                                            </div> 
                                            <!--<div class="col-sm-2 col-lg-2 offset-sm-4">
                                                         <select class="form-control" id="Mobile">
                                                            <option value="">+44</option>
                                                            <option>+91</option>
                                                            <option>+44</option>
                                                            <option>+44</option>
                                                            <option>+44</option>
                                                        </select> 
                                                        <select class="col-sm-2 col-lg-2 offset-sm-4"
                                                                id="titleId"
                                                                name="userTitle" 
                                                                label="Title" 
                                                                value="{!v.countryCode}" >
                                                            <option value="+44">+44</option>
                                                            <option value="+91">+91</option>
                                                        </select>
                                                 </div>-->
                                        </div>
                                        
                                        <div class="form-group row">
                                            <div class="col-sm-12 col-lg-11 text-right">
                                                <!-- <button type="submit" class="see-all">Continue</button> -->
                                                <lightning:button aura:id="doSubmit"  variant="brand" label="Save"
                                                                  onclick="{! c.doSubmit }" disabled="false" class="see-all" />
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </section>
                            <!-- Deposit Steps HTML End -->
                        </div>
                        <!-- <div class="col-md-3 info-right-tab">
                            <p>For a deposit to be protected we must receive it in cleared funds within 30 working days of the start date of the tenancy. Once we receive your payment, we will allocate it to your deposit registration and send confirmation of protection to you and your tenant(s), usually within 2 working days.</p>
                            <p>The landlord/agent must also provide the tenant(s) with the prescribed information within 30 working days of the start date of the tenancy.</p>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div> 
</aura:component>